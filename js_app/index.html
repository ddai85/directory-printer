<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Planning Center PDF Generator</title>

  <!-- Bootstrap core CSS -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/starter-template.min.css" rel="stylesheet">
  <style>
    .panel-heading {
      color: #333;
      background-color: #f5f5f5;
      border-color: #ddd;
    }

    h1 sub {
      font-size: 40%;
    }

    #override-0 {
      display: none;
    }

    body .navbar .navbar-header .navbar-brand {
      color: white;
    }

    #overrides-link {
      padding-top: 8px;
    }
  </style>
</head>

<body>
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <span class="navbar-brand">Planning Center PDF Generator</span>
      </div>
      <div id="navbar" class="collapse navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="active" id="config-link-1">
            <a href="#config1">Config 1</a>
          </li>
          <li id="config-link-2">
            <a href="#config2">Config 2</a>
          </li>
          <li id="config-link-3">
            <a href="#config3">Config 3</a>
          </li>
          <li id="config-link-4">
            <a href="#config4">Config 4</a>
          </li>
          <li id="config-link-5">
            <a href="#config5">Config 5</a>
          </li>
          <li id="config-link-6">
            <a href="#config6">Config 6</a>
          </li>
          <li>
            <a>&nbsp;</a>
          </li>
          <li>
            <div class="btn-group" role="group" id="overrides-link">
              <button type="button" class="btn btn-primary">Edit Overrides</button>
            </div>
          </li>
        </ul>
      </div>
      <!--/.nav-collapse -->
    </div>
  </nav>

  <div class="alert alert-danger error error-pdf" role="alert" style="display:none">Failure generating PDF. Please try again.</div>
  <div class="alert alert-danger error error-save" role="alert" style="display:none">Failure saving. Please try again.</div>
  <div class="alert alert-success success" role="alert" style="display:none">Saved.</div>


  <div class="container overrides" style="display: none;">
    <h1>Overrides
      <div class="btn-group" role="group" aria-label="...">
        <div class="btn-group" role="group">
          <button type="button" id="save-overrides-btn" class="btn btn-success">Save</button>
        </div>
        <div class="btn-group" role="group">
          <button type="button" id="add-overrides-btn" class="btn btn-primary">Add Override</button>
        </div>
      </div>
      <sub>
        <em>(Delete by leaving the First Name, Last Name, and Birthday blank)</em>
      </sub>
    </h1>
    <div class="overrides">
      <div class="panel panel-default override" id="override-0">
        <div class="panel-body">
          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>First Name</label>
                <input type="text" id="key_first_name" placeholder="e.g. john" required>
              </span>
              <span class="input-group-addon">
                <label>Last Name</label>
                <input type="text" id="key_last_name" placeholder="e.g. doe" required>
              </span>
              <span class="input-group-addon">
                <label>Birthday</label>
                <input type="text" id="key_birthday" placeholder="e.g. 1980-01-02" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Show?</label>
                <input type="checkbox" id="show" checked>
              </span>
              <span class="input-group-addon">
                <label>Show Household?</label>
                <input type="checkbox" id="show_household" checked>
              </span>
              <span class="input-group-addon">
                <label>Show Children?</label>
                <input type="checkbox" id="show_children" checked>
              </span>
            </div>
          </div>
          <br />
          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title" checked>
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer" checked>
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school" checked>
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation" checked>
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones" checked>
              </span>
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email" checked>
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address" checked>
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city" checked>
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state" checked>
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code" checked>
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country" checked>
              </span>
            </div>
          </div>
          <br />


          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday" checked>
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined" checked>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container configs">
    <input type="hidden" id="config" value="1">
    <h1>Config
      <span id="selected-config">1</span>
      <div class="btn-group" role="group" aria-label="...">
        <div class="btn-group" role="group">
          <button type="button" id="save-btn" class="btn btn-success">Save</button>
        </div>
        <div class="btn-group" role="group">
          <button type="button" id="generate-btn" class="btn btn-primary">Generate PDF</button>
        </div>
      </div>
    </h1>
    <div class="progress" style="display:none">
      <div class="progress-bar progress-bar-striped active" role="progressbar" style="width: 0%">
      </div>
    </div>
    <em>Unit sizes are in millimeters (mm) and font sizes are in points (pt)</em>
    <div class="panel panel-default config">
      <div class="panel-body">
        <div class="input-group">
          <span class="input-group-addon">Page Size</span>
          <input type="text" class="form-control" id="page_size">
          <span class="input-group-addon">Top Margin</span>
          <input type="text" class="form-control" id="top_margin">
          <span class="input-group-addon">Left Margin</span>
          <input type="text" class="form-control" id="left_margin">
          <span class="input-group-addon">Right Margin</span>
          <input type="text" class="form-control" id="right_margin">
          <span class="input-group-addon">Bottom Margin</span>
          <input type="text" class="form-control" id="bottom_margin">
        </div>
      </div>

      <div class="panel-body">
        <div class="input-group">
          <span class="input-group-addon"># of Columns</span>
          <input type="text" class="form-control" id="number_of_columns">
          <span class="input-group-addon">Vertical Padding</span>
          <input type="text" class="form-control" id="padding">
          <span class="input-group-addon">Gutter</span>
          <input type="text" class="form-control" id="gutter">
          <span class="input-group-addon">Image Padding</span>
          <input type="text" class="form-control" id="image_padding">
          <span class="input-group-addon">Highlight Opacity</span>
          <input type="text" class="form-control" id="highlight_opacity">
        </div>
      </div>

      <div class="panel-body">
        <div class="input-group">
          <span class="input-group-addon">Font</span>
          <input type="text" class="form-control" id="font_family">
          <span class="input-group-addon">Font Size</span>
          <input type="text" class="form-control" id="font_size">
          <span class="input-group-addon">Line Height</span>
          <input type="text" class="form-control" id="line_height">
          <span class="input-group-addon">Row Height</span>
          <input type="text" class="form-control" id="column_height">
        </div>
      </div>


      <div class="section-0 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 1
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>
      </div>
      <div class="section-1 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 2
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>

      </div>
      <div class="section-2 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 3
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>

      </div>
      <div class="section-3 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 4
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">Line Spacing</span>
            <input type="text" class="form-control" id="line_spacing">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Age?</label>
                <input type="checkbox" id="age">
              </span>
            </div>
          </div>
          <br />

        </div>

      </div>
      <div class="section-4 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 5
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>

      </div>
      <div class="section-5 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 6
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>

      </div>
      <div class="section-6 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 7
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>
      </div>
      <div class="section-7 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 8
            <input type="checkbox" id="show" checked>
          </h3>
        </div>


        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">List Name</span>
            <input type="text" class="form-control" id="list_name">
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Job Title?</label>
                <input type="checkbox" id="job_title">
              </span>
              <span class="input-group-addon">
                <label>Employer?</label>
                <input type="checkbox" id="employer">
              </span>
              <span class="input-group-addon">
                <label>School?</label>
                <input type="checkbox" id="school">
              </span>
              <span class="input-group-addon">
                <label>Occupation?</label>
                <input type="checkbox" id="occupation">
              </span>
              <span class="input-group-addon">
                <label>Children?</label>
                <input type="checkbox" id="children">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Phone #s?</label>
                <input type="checkbox" id="phones">
              </span>
              <span class="input-group-addon">
                <label>Phone Number Count</label>
              </span>
              <input type="text" class="form-control" id="phone_count" style="width: 45px">
              <span class="input-group-addon">
                <label>Email Address?</label>
                <input type="checkbox" id="email">
              </span>
              <span class="input-group-addon">
                <label>Address?</label>
                <input type="checkbox" id="address">
              </span>
              <span class="input-group-addon">
                <label>City?</label>
                <input type="checkbox" id="city">
              </span>
              <span class="input-group-addon">
                <label>State?</label>
                <input type="checkbox" id="state">
              </span>
              <span class="input-group-addon">
                <label>Postal Code?</label>
                <input type="checkbox" id="postal_code">
              </span>
              <span class="input-group-addon">
                <label>Country?</label>
                <input type="checkbox" id="country">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>New Member Footnote?</label>
                <input type="checkbox" id="new_member_footnote">
              </span>
              <span class="input-group-addon">
                <label>Pending Baptism Footnote?</label>
                <input type="checkbox" id="baptism_footnote">
              </span>
            </div>
          </div>
          <br />

          <div class="input-group">
            <div class="input-group">
              <span class="input-group-addon">
                <label>Birthday?</label>
                <input type="checkbox" id="birthday">
              </span>
              <span class="input-group-addon">
                <label>Date Joined?</label>
                <input type="checkbox" id="date_joined">
              </span>
            </div>
          </div>
          <br />

        </div>
      </div>
      <div class="section-8 section">
        <div class="panel-heading">
          <h3 class="panel-title">Section 9
            <input type="checkbox" id="show" checked>
          </h3>
        </div>

        <div class="panel-body">
          <div class="input-group">
            <span class="input-group-addon">Header</span>
            <input type="text" class="form-control" id="header">
            <span class="input-group-addon">Columns</span>
            <input type="text" class="form-control" id="columns">
          </div>
          <br />

        </div>
      </div>
    </div>
  </div>
  <!-- /.container -->

  <script src="/js/jquery.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script>
    function getJson() {
      configId = $('#config').val()
      var els = $('.config input:not(div.section input)')
        , sections = $('.config .section')
        , json = {};

      els.each(function (i, el) {
        if ($(el).attr("type") == "checkbox") {
          json[el.id] = $(el).prop("checked")
        } else {
          json[el.id] = $(el).val()
        }
      }
      )

      json.sections = []

      sections.each(function (i2, section) {
        json.sections[i2] = {}
        $(section).find('input').each(function (i3, el) {
          if ($(el).attr("type") == "checkbox") {
            json.sections[i2][el.id] = $(el).prop("checked")
          } else {
            json.sections[i2][el.id] = $(el).val()
          }
        })
      })

      return json
    }
    $("#save-btn").on("click", function (e) {
      configId = $('#config').val()
      $(".error").fadeOut()
      $.ajax({
        type: 'POST',
        url: "/api/v1/configs/" + configId,
        data: JSON.stringify(getJson()),
        success: function (data) {
          $(".success").fadeIn()
          setTimeout(function () { $(".success").fadeOut() }, 4000)
        },
        contentType: "application/json",
        dataType: 'json',
        error: function (data) {
          $(".error-save").fadeIn()
        }
      });
    })

    $("#generate-btn").on("click", function (e) {
      $(".error").fadeOut()
      $(".progress-bar").css("width", "0%")
      $(".progress").fadeIn()
      var timeout1 = setTimeout(function () { $(".progress-bar").css("width", "30%") }, 3000)
      var timeout2 = setTimeout(function () { $(".progress-bar").css("width", "50%") }, 10000)
      var timeout3 = setTimeout(function () { $(".progress-bar").css("width", "80%") }, 30000)

      $.ajax({
        type: 'POST',
        url: "/api/v1/pdf",
        data: JSON.stringify(getJson()),
        success: function (data) {
          var checkTimer = setInterval(function () {
            $.ajax({
              type: 'GET',
              url: "/api/v1/status/" + data.id,
              success: function (r, s, x) {
                if (x.status === 200) {
                  clearTimeout(timeout1)
                  clearTimeout(timeout2)
                  clearTimeout(timeout3)
                  clearTimeout(checkTimer)
                  $(".progress-bar").css("width", "100%")
                  setTimeout(function () {
                    $(".progress").fadeOut();
                    window.location.href = "/api/v1/pdf/" + data.id;
                  }, 2000)

                }
              },
              error: function (data) {
                console.log("err")
                clearTimeout(checkTimer)
                $(".progress").fadeOut()
                $(".error-pdf").fadeIn()
              }
            });
          }, 5000)
        },
        error: function (data) {
          $(".progress").fadeOut()
          $(".error-pdf").fadeIn()
        },
        contentType: "application/json",
        dataType: 'json'
      });
    })

    function downloadJSON() {
      configId = $('#config').val()

      $.getJSON("/api/v1/configs/" + configId, function (data) {
        $.each(data, function (key, val) {
          $(".config #" + key).val(val)
        });

        $.each(data.sections, function (sectionId, section) {
          $.each(section, function (key, val) {
            if (val === false || val === true) {
              $(".config .section-" + sectionId + " #" + key).prop("checked", val)
            } else {
              $(".config .section-" + sectionId + " #" + key).val(val)
            }
          });
        });
      });
    }

    function downloadOverrides() {
      $.getJSON("/api/v1/overrides", function (data) {
        $.each(data, function (key, val) {
          var newOverride = $('#override-0').clone();
          var newId = parseInt($('.override').last().attr('id').split('-')[1]) + 1;
          newOverride.attr('id', "override-" + newId);

          $.each(val, function (key2, val2) {
            if (val2 === false || val2 === true) {
              newOverride.find("#" + key2).prop("checked", val2)
            } else {
              newOverride.find("#" + key2).val(val2)
            }
          });

          $('.override').last().after(newOverride);
        });

        $.each(data.sections, function (sectionId, section) {
          $.each(section, function (key, val) {
            if (val === false || val === true) {
              $(".config .section-" + sectionId + " #" + key).prop("checked", val)
            } else {
              $(".config .section-" + sectionId + " #" + key).val(val)
            }
          });
        });
      });
    }
    downloadJSON();
    downloadOverrides();

    $('#config-link-1').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("1"); })
    $('#config-link-2').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("2"); })
    $('#config-link-3').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("3"); })
    $('#config-link-4').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("4"); })
    $('#config-link-5').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("5"); })
    $('#config-link-6').on("click", function () { $(".overrides").fadeOut(function () { $(".configs").fadeIn(); }); changeConfig("6"); })


    $('#overrides-link').on("click", function () { $(".configs").fadeOut(function () { $(".overrides").fadeIn(); }); })

    $('#add-overrides-btn').on("click", function () {
      var newOverride = $('#override-0').clone();
      var newId = parseInt($('.override').last().attr('id').split('-')[1]) + 1;
      newOverride.attr('id', "override-" + newId);

      $('.override').last().after(newOverride);
    });

    $('#save-overrides-btn').on("click", function () {
      var configs = [];
      $('.override:visible').each(function (i, el) {
        if ($(el).find('#key_first_name').val() === '' && $(el).find('#key_last_name').val() === '' && $(el).find('#key_birthday').val() === '') {
          $(el).remove();
        } else {
          config = {};
          $(el).find('input').each(function (i, el) {
            el.checkValidity()
            if ($(el).attr("type") == "checkbox") {
              config[el.id] = $(el).prop("checked")
            } else {
              config[el.id] = $(el).val()
            }
          }
          )

          configs.push(config)
        }
      })
      $.ajax({
        type: 'POST',
        url: "/api/v1/overrides",
        data: JSON.stringify({ overrides: configs }),
        success: function (data) {
          $(".success").fadeIn()
          setTimeout(function () { $(".success").fadeOut() }, 4000)
        },
        contentType: "application/json",
        dataType: 'json',
        error: function (data) {
          $(".error-save").fadeIn()
        }
      });
    });

    function changeConfig(newConfig) {
      $('#config').val(newConfig)
      $('.navbar-nav li').removeClass('active')
      $('.navbar-nav #config-link-' + newConfig).addClass('active')
      $('#selected-config').html(parseInt(newConfig))
      downloadJSON()
    }

  // setInterval(function() {
  //   var i = document.createElement("img");
  //   i.onload = function(e) {
  //     e.target.parentNode.removeChild(e.target);
  //   }
  //   i.src = "/js/1x1.png?t="+Date.now();
  //   document.body.appendChild(i);
  // }, 30000);

  </script>
</body>

</html>